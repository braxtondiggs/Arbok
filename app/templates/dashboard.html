<ion-view view-title="Dashboard" ng-style="{'background-image':'url(images/BG.png)'}" class="dashboard">
    <ion-content>
        <div class="list chat-convo dark-list">
            <div class="setup" ng-if="!$storage.hasSetupDashboard && !chats" ng-class="{'rubberBand animated': !$storage.hasSetupDashboard && !chats}">
                <p>Welcome to Alma! Playing music videos have never been so easy, with Alma you have access to thousands of videos at your finger tips. You need to be connected to an Alma Player inorder to get started. Press "Get Started" below for a quick tutorial.</p>
                 <div class="setup_buttons">
                    <button class="button button-positive" ng-click="dashboard.startTutorial()">
                        Get Started
                    </button>
                    <button class="button button-default" ng-click="dashboard.skipTutorial()">
                        Skip
                    </button>
                </div>
            </div>
            <div class="item chat-item animated" ng-repeat="chat in chats" ng-class="{'isSelf' : chat.self, 'fadeIn': loaded}">
                <div class="chat-img">
                    <img class="img-circle img-border" ng-src="{{(chat.image)?chat.image._url:'images/missingPerson.jpg'}}" err-src="images/missingPerson.jpg" />
                </div>
                <div class="chat-bubble" on-hold="dashboard.onMessageHold($event, $index, chat)">
                    <h2>{{chat.username}}</h2>
                    <img ng-src="chat.msg_image" ng-if="chat.msg_image"/>
                    <p>{{chat.msg}}</p>
                </div>
                <div class="chat-timestamp">
                    <p><i class="ion-clock">&nbsp;</i>{{chat.createdAt}}</p>
                </div>
            </div>
            <p ng-show="!chats.length && $storage.hasSetupDashboard" class="empty-list">No one has started to chat. Be the first!</p>
        </div>
       
    </ion-content>
    <ion-subfooter-bar align-title="left" class="bar chat-write animated flipInX delay-6" ng-class="queue.length? 'bar-subfooter' : 'bar-footer'">
        <i class="icon ion-ios-camera-outline chat-image" ng-click="dashboard.uploadImage()" ng-if="false"></i>
        <input type="text" id="chat-input" placeholder="Tap to write message..." ng-model="dashboard.chat.chatMsg" ng-keyup="dashboard.getKeys($event)">
        <!--<label class="item-input-wrapper">
            <textarea msd-elastic required minlength="1"maxlength="1500" id="chat-input" placeholder="Tap to write message..." ng-model="dashboard.chat.chatMsg" ng-keyup="dashboard.getKeys($event)"></textarea>
        </label>-->
        <button class="button button-small button-outline dark-button" ng-click="dashboard.sendChat(dashboard.chat.chatMsg);dashboard.chat.chatMsg = '';" ng-disabled="!dashboard.chat.chatMsg || dashboard.chat.chatMsg === ''">Send</button>
    </ion-subfooter-bar>
</ion-view>